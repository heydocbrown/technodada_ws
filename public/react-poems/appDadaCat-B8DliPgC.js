import{r as a,j as e,R as f,a as x}from"./App-B9regU7K.js";import{P as N,I as j}from"./ImageViewer-C2Gju3NJ.js";const E="https://f005.backblazeb2.com/file/td-website/index.json";function v({onArtSelect:s}){const[n,A]=a.useState([]),[l,o]=a.useState([]),[h,c]=a.useState(!0),[i,d]=a.useState(null);a.useEffect(()=>{p()},[]),a.useEffect(()=>{if(n.length>0){console.log("Filtering for dadacat with human_prompt"),console.log("Total artData items:",n.length);const t=n.filter(r=>r.artproject==="dadacat"&&r.on_website==="yes"&&r.human_prompt&&r.human_prompt.trim()!=="");console.log("Filtered items with human_prompt:",t.length),console.log("Sample filtered item:",t[0]),o(t)}else o([])},[n]);const p=async()=>{try{c(!0);const t=await fetch(E);if(!t.ok)throw new Error("Failed to fetch art data");const m=(await t.json()).images||[];A(m),c(!1)}catch(t){console.error("Error fetching art data:",t),d("REALITY_FETCH_ERROR: Unable to retrieve dadacat visions"),c(!1)}},u=t=>{const r=t.target.value;if(r){const m=l.find(g=>g.run_id===r);m&&s(m)}};return h?e.jsx("div",{className:"art-selector-section",children:e.jsxs("div",{className:"terminal-window",children:[e.jsxs("div",{className:"terminal-header",children:["> LOADING DADACAT_DATABASE...",e.jsx("br",{}),"> ESTABLISHING BACKBLAZE_CONNECTION..."]}),e.jsx("div",{className:"terminal-body",children:e.jsx("div",{className:"loading",children:"SCANNING DADACAT_FRAGMENTS"})})]})}):i?e.jsx("div",{className:"art-selector-section",children:e.jsx("div",{className:"terminal-window",children:e.jsx("div",{className:"terminal-header error-message",children:i})})}):e.jsx("div",{className:"art-selector-section",children:e.jsx("div",{className:"dropdown-container",children:e.jsxs("select",{className:"art-dropdown",onChange:u,defaultValue:"",children:[e.jsxs("option",{value:"",children:["> SELECT DADACAT VISION [",l.length," AVAILABLE]"]}),l.map(t=>e.jsx("option",{value:t.run_id,children:t.human_prompt},t.run_id))]})})})}function S(){const[s,n]=a.useState(null),[A,l]=a.useState(!1),[o,h]=a.useState(null),c=d=>{n(d),l(!1);const p=d.cleaned_prompt.length,u=Math.max(8e3,Math.min(12e3,p*40));h(u);const t=document.getElementById("gnosisLevel");t&&(t.textContent="0%")},i=()=>{l(!0)};return e.jsxs("div",{className:"art-viewer-container",children:[e.jsxs("header",{className:"art-viewer-header",children:[e.jsx("h1",{className:"glitch",children:"DADACAT_VIEWER"}),e.jsx("p",{className:"error-message",children:"WARNING: DadaCat visions only"})]}),e.jsx(v,{onArtSelect:c}),e.jsxs("div",{className:"content-display",children:[e.jsx(N,{prompt:(s==null?void 0:s.cleaned_prompt)||null,syncDuration:o,onTypingComplete:i}),e.jsx(j,{imageUrl:s?`https://f005.backblazeb2.com/file/td-website/${s.backblaze_path}`:null,startReveal:s!==null,syncDuration:o})]}),e.jsxs("nav",{className:"error-nav",style:{textAlign:"center",marginTop:"40px"},children:[e.jsx("a",{href:"/",className:"error-link",children:"[RETURN_TO_404]"}),e.jsx("a",{href:"/pages/gallery.html",className:"error-link",children:"[BROWSE_GALLERY]"}),e.jsx("a",{href:"/pages/poems.html",className:"error-link",children:"[ALL_VISIONS]"})]})]})}f.createRoot(document.getElementById("react-root")).render(e.jsx(x.StrictMode,{children:e.jsx(S,{})}));
